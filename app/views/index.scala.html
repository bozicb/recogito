@(username: String)(implicit s: play.api.db.slick.Config.driver.simple.Session)
<html>
  <head>
    <title>PELAGIOS Geo-Resolution Correction Tool</title>
    <link rel="stylesheet" href="@routes.Assets.at("javascripts/lib/slickgrid/slick.grid.css")" />
    <link rel="stylesheet" href="@routes.Assets.at("javascripts/lib/leaflet/leaflet.css")" />
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/main.css")" />
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/jquery/jquery-2.0.0.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/jquery/jquery.event.drag-2.2.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/slickgrid/slick.core.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/slickgrid/slick.grid.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/slickgrid/slick.rowselectionmodel.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/leaflet/leaflet.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/leaflet/leaflet.textpath.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/base.js")"></script> 
    <script type="text/javascript" src="@routes.Assets.at("javascripts/table-view.js")"></script>    
    <script type="text/javascript" src="@routes.Assets.at("javascripts/map-view.js")"></script>   
    <script type="text/javascript" src="@routes.Assets.at("javascripts/footer.js")"></script>    
    <script type="text/javascript" src="@routes.Assets.at("javascripts/details-popup.js")"></script>    
  </head>
  
  <body>
    <div id="container">
      <ul>
        @for(document <- models.GeoDocuments.listAll()) {
      	  <li class="geo-document">
      	    @document.title
      	    <a href="@routes.ApplicationController.map(document.id.get)">Map</a>
      	    <a href="@routes.ApplicationController.csv(document.id.get)">CSV</a>
      	    <ul>
      	    @for(part <- models.GeoDocumentParts.findByGeoDocument(document.id.get)) {
      	      @defining(GeoDocumentTexts.findByGeoDocumentPart(part.id.get).map(_.id).flatten) { textId =>
      	        <li>
      	          @part.title
      	          <a href="@routes.ApplicationController.text(textId.get)" target="_blank">Text</a>
      	        </li> 
      	      }
      	    }
      	    </ul>
      	  </li>      	  
        }
      </ul>
    </div>
    <div id="footer">
      <span id="footer-info"></span>
      <span id="footer-user">You are logged in as: <span class="footer-username">@username</span><a href="logout" title="Logout" class="footer-logout">&#xf011;</a></span>
    </div>
  </body>
</html>
