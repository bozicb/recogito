@(username: String)(implicit s: play.api.db.slick.Config.driver.simple.Session)
<html>
  <head>
    <title>PELAGIOS Geo-Resolution Correction Tool</title>
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/main.css")" />
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/index.css")" />
  </head>
  
  <body>
    <div id="container">
      <ul>
        @for(document <- models.GeoDocuments.listAll()) {
      	  <li class="geo-document">
      	    @document.title
      	    <a href="@routes.ApplicationController.showMapCorrectionUI(document.id.get)">Map</a>
      	    <a href="@routes.DocumentController.get(document.id.get, Some("csv"))">CSV</a>
      	    <div class="stats">
      	      @document.totalToponymCount Toponyms Total<br/>
      	      @{document.totalToponymCount - document.unverifiedToponymCount} Toponyms Controlled</br>
      	      @{ "%.2f" format (document.completionRatio * 100) } % Complete</br>
      	      NER recall: @{ "%.2f" format (document.nerRecall * 100) } %<br/>
      	      NER precision: @{ "%.2f" format (document.nerPrecision * 100) } %</br> 
      	      Resolution correctness: @{ "%.2f" format (document.resolutionCorrectness * 100) } % 
      	    </div>
      	    <ul>
      	    @for(part <- models.GeoDocumentParts.findByGeoDocument(document.id.get)) {
      	      <li>
      	        @part.title
      	        @defining(GeoDocumentTexts.findByGeoDocumentPart(part.id.get).map(_.id).flatten) { textId =>
      	          @if(textId.isDefined) {
      	           <a href="@routes.ApplicationController.showTextAnnotationUI(textId.get)" target="_blank">Text</a>
      	          }
      	        }
      	      </li> 
      	    }
      	    </ul>
      	  </li>      	  
        }
      </ul>
    </div>
    <div id="footer">
      <span id="footer-info"></span>
      <span id="footer-user">You are logged in as: <span class="footer-username">@username</span><a href="logout" title="Logout" class="footer-logout">&#xf011;</a></span>
    </div>
  </body>
</html>
